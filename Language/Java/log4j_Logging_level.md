# log4j Logging level
log4j의 로그 레벨과 레벨에 따른 작동 방식

## log4j
log4j는 Apache Software License에 따라 배포되는 Java 로깅 프레임워크이다.

## 로그 레벨
org.apache.log4j.Level에 명시된 로그 레벨은 다음과 같다.

- ALL : 랭크가 가장 낮으며 모든 로깅을 설정하기 위한 레벨.
- TRACE : DEBUG보다 세부적인 정보 이벤트를 지정하기 위한 레벨.
- DEBUG : 애플리케이션을 디버그하는데 유용한 세부 정보 이벤트를 지정하기 위한 레벨.
- INFO : 애플리케이션의 진행 수준을 대략적으로 알려주는 정보 메시지를 지정하기 위한 레벨.
- WARN : 잠재적으로 위험한 상황을 나타내기 위한 레벨.
- ERROR : 애플리케이션을 계속 실행시킬 수 있는 수준의 에러 이벤트를 지정하기 위한 레벨.
- FATAL : 애플리케이션을 중단시킬 가능성이 있는 매우 심각한 수준의 오류 이벤트를 지정하기 위한 레벨.
- OFF : 랭크가 가장 높으며 로깅을 해제하기 위한 레벨.

이 중 많이 사용되는 DEBUG, INFO, WARN, ERROR, FATAL, TRACE에 대해 더 자세히 알아보자.

### DEBUG
> **일반적으로 디버그에 필요한 메시지.**

개발자를 위해 필요한 정보. 특정 시점에 변수의 상태를 확인하고 싶을 때 DEBUG를 사용한다.

### INFO
> **정보를 얻기 위한 이벤트.**

성공적인 초기화, 서비스의 시작이나 중지, 중요한 트랜잭션의 성공적인 커밋과 같은 정상 조건에서 기록되어야하는 정보. 유저의 로그인/로그아웃, 파일 생성/삭제, 데이터베이스의 컬럼 생성/삭제 등이 INFO에 해당한다.

### WARN
> **오류로 이어질 수 있는 이벤트.**

잠재적으로 애플리케이션의 이상 현상을 일으킬 수 있지만 자동으로 복구되는 상황. WARN 상황은 문제가 될 수도 있고 아닐 수도 있다. 기본 서버에서 백업 서버로의 전환, 작업 재시도, 보조 데이터 누락, 네트워크 또는 데이터베이스 연결의 짧은 손실과 같은 일시적인 상황은 ERROR가 아닌 WARN으로 기록해야 한다.

### ERROR
> **애플리케이션에 오류가 발생했으나 복구가능한 상황.**

FATAL 상황까지는 아니지만 조사해야 할 문제가 분명히 있는 상황이다. 파일을 열 수 없거나, 데이터가 누락된 상황이 ERROR가 될 수 있다. 이런 오류는 일반적으로 애플리케이션에 예약되어있다.

### FATAL
> **심각한 오류가 발생하여 애플리케이션을 계속할 수 없는 상황.**

데이터의 손실을 방지하기 위해 서비스나 애플리케이션을 강제로 종료하는 에러. 심각한 오류의 상황에 해당하기 때문에 FATAL은 매우 드물게 사용해야 한다. 일반적으로 FATAL 에러는 프로세스 수명 동안 한 번만 발생하므로 로그 파일이 프로세스에 연결된 경우 이 메시지가 로그의 마지막 메시지가 된다.  

### TRACE
> **애플리케이션을 통과하는 흐름을 캡쳐하는 세밀한 디버그 메시지.**

## 작동 방식
만약 애플리케이션의 로그 레벨이 INFO로 설정되어 있다면 logger.debug(...)는 콘솔에 출력되지 않는다. 만약 DEBUG로 설정되어 있다면 콘솔에 출력된다. 로그의 출력 여부는 설정된 로그 레벨의 랭크에 따라 결정된다.  

```
(낮음) ALL < TRACE < DEBUG < INFO < WARN < ERROR < FATAL < OFF (높음)
```

따라서, 만약 애플리케이션의 로그 레벨이 ALL이라면 모든 로그가 출력되며, OFF라면 어떤 로그도 출력되지 않는다.  

## 참고
https://www.tutorialspoint.com/log4j/log4j_logging_levels.htm  
https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/class-use/Level.html  
https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels  